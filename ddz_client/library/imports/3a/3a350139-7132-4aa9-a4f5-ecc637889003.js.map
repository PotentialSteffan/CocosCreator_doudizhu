{"version":3,"sources":["../../../../../assets/scripts/gameScene/assets/scripts/gameScene/gamebeforeUI.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/scripts/gameScene","sourcesContent":["import myglobal from \"../mygolbal\"\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport class gamebeforeUI extends cc.Component {\n\n    @property(cc.Node)\n    btn_ready: cc.Node = null;\n    @property(cc.Node)\n    btn_gamestart: cc.Node = null;\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n\n        this.btn_gamestart.active = false\n        this.btn_ready.active = false\n\n        //监听本地的发送的消息\n        this.node.on(\"init\", function () {\n            console.log(\"game beforeui init\")\n            console.log(\"myglobal.playerData.housemanageid\" + myglobal.playerData.housemanageid)\n            console.log(\"myglobal.playerData.accountID\" + myglobal.playerData.accountID)\n            if (myglobal.playerData.housemanageid == myglobal.playerData.accountID) {\n                //自己就是房主\n                this.btn_gamestart.active = true\n                this.btn_ready.active = false\n            } else {\n                this.btn_gamestart.active = false\n                this.btn_ready.active = true\n            }\n        }.bind(this))\n\n        //监听服务器发送来的消息\n        // myglobal.socket.onGameStart(function(){\n        //     console.log(\"gamebrforeUI onGameStart revice\")\n        //     this.node.active = false\n        // }.bind(this))\n\n        myglobal.socket.onChangeHouseManage(function (data) {\n            console.log(\"gamebrforeUI onChangeHouseManage revice\" + JSON.stringify(data))\n            myglobal.playerData.housemanageid = data\n            if (myglobal.playerData.housemanageid == myglobal.playerData.accountID) {\n                //自己就是房主\n                this.btn_gamestart.active = true\n                this.btn_ready.active = false\n            } else {\n                this.btn_gamestart.active = false\n                this.btn_ready.active = true\n            }\n\n        }.bind(this))\n    }\n\n    start() {\n\n    }\n\n    // update (dt) {},\n\n    onButtonClick(event, customData) {\n        switch (customData) {\n            case \"btn_ready\":\n                console.log(\"btn_ready\")\n                myglobal.socket.requestReady()\n                break\n            case \"btn_start\":\n                // if(isopen_sound){\n                //    cc.audioEngine.play(cc.url.raw(\"resources/sound/start_a.ogg\")) \n                //  }\n                console.log(\"btn_start\")\n                myglobal.socket.requestStart(function (err, data) {\n                    if (err != 0) {\n                        console.log(\"requestStart err\" + err)\n                    } else {\n                        console.log(\"requestStart data\" + JSON.stringify(data))\n\n                    }\n                })\n                break\n            default:\n                break\n        }\n    }\n}\n"]}