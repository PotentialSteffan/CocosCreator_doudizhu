{"version":3,"sources":["../../../../../assets/scripts/gameScene/assets/scripts/gameScene/gameingUI.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/scripts/gameScene","sourcesContent":["import myglobal from \"../mygolbal\"\nimport {qian_state,CardsValue} from \"../defines\"\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport class gameingUI extends cc.Component {\n    @property(cc.Node)\n    gameingUI: cc.Node = null;\n    @property(cc.Prefab)\n    card_prefab: cc.Prefab = null;\n    @property(cc.Node)\n    robUI: cc.Node = null;\n    @property(cc.Node)\n    bottom_card_pos_node: cc.Node = null;\n    @property(cc.Node)\n    playingUI_node: cc.Node = null;\n    @property(cc.Label)\n    tipsLabel: cc.Label = null; //玩家出牌不合法的tips\n    cards_nods\n    card_width\n    rob_player_accountid\n    fapai_end\n    bottom_card\n    bottom_card_data\n    choose_card_data\n    outcar_zone\n    push_card_tmp\n\n    isopen_sound:boolean = false;\n    onLoad() {\n        //自己牌列表 \n        this.cards_nods = []\n        this.card_width = 0\n        //当前可以抢地主的accountid\n        this.rob_player_accountid = 0\n        //发牌动画是否结束\n        this.fapai_end = false\n        //底牌数组\n        this.bottom_card = []\n        //底牌的json对象数据\n        this.bottom_card_data = []\n        this.choose_card_data = []\n        this.outcar_zone = []\n\n        this.push_card_tmp = []\n        //监听服务器:下发牌消息\n        myglobal.socket.onPushCards(function (data) {\n            console.log(\"onPushCards\" + JSON.stringify(data))\n            this.card_data = data\n            this.cur_index_card = data.length - 1\n            this.pushCard(data)\n            if (this.isopen_sound) {\n                //循环播放发牌音效\n                // this.fapai_audioID = cc.audioEngine.play(cc.url.raw(\"resources/sound/fapai1.mp3\"),true)\n                console.log(\"start fapai_audioID\" + this.fapai_audioID)\n            }\n            //左边移动定时器\n            this.scheduleOnce(this._runactive_pushcard.bind(this), 0.3)\n            this.node.parent.emit(\"pushcard_other_event\")\n\n        }.bind(this))\n\n        //监听服务器:通知抢地主消息,显示相应的UI\n        myglobal.socket.onCanRobState(function (data) {\n            console.log(\"onCanRobState\" + JSON.stringify(data))\n            //这里需要2个变量条件：自己是下一个抢地主，2发牌动画结束\n            this.rob_player_accountid = data\n            if (data == myglobal.playerData.accountID && this.fapai_end == true) {\n                this.robUI.active = true\n            }\n\n        }.bind(this))\n\n        //监听服务器可以出牌消息\n        myglobal.socket.onCanChuCard(function (data) {\n            console.log(\"onCanRobState\" + JSON.stringify(data))\n            //判断是不是自己能出牌\n            if (data == myglobal.playerData.accountID) {\n                //先清理出牌区域\n                this.clearOutZone(myglobal.playerData.accountID)\n                //先把自己出牌列表置空\n                //this.choose_card_data=[]\n                //显示可以出牌的UI\n                this.playingUI_node.active = true\n\n            }\n        }.bind(this))\n\n        //监听服务器：其他玩家出牌消息\n        myglobal.socket.onOtherPlayerChuCard(function (data) {\n            //{\"accountid\":\"2357540\",\"cards\":[{\"cardid\":4,\"card_data\":{\"index\":4,\"value\":1,\"shape\":1}}]}\n            console.log(\"onOtherPlayerChuCard\" + JSON.stringify(data))\n\n            var accountid = data.accountid\n            var gameScene_script = this.node.parent.getComponent(\"gameScene\")\n            //获取出牌区域节点\n            var outCard_node = gameScene_script.getUserOutCardPosByAccount(accountid)\n            if (outCard_node == null) {\n                return\n            }\n\n            var node_cards = []\n            for (var i = 0; i < data.cards.length; i++) {\n                var card = cc.instantiate(this.card_prefab)\n                card.getComponent(\"card\").showCards(data.cards[i].card_data, myglobal.playerData.accountID)\n                node_cards.push(card)\n            }\n            this.appendOtherCardsToOutZone(outCard_node, node_cards, 0)\n\n\n        }.bind(this))\n\n        //内部事件:显示底牌事件,data是三张底牌数据\n        this.node.on(\"show_bottom_card_event\", function (data) {\n            console.log(\"----show_bottom_card_event\", +data)\n\n            this.bottom_card_data = data\n\n            for (var i = 0; i < data.length; i++) {\n                var card = this.bottom_card[i]\n                var show_data = data[i]\n                var call_data = {\n                    \"obj\": card,\n                    \"data\": show_data,\n                }\n                console.log(\"bottom show_data:\" + JSON.stringify(show_data))\n                var run = cc.callFunc(function (target, activedata) {\n\n                    var show_card = activedata.obj\n                    var show_data = activedata.data\n                    //console.log(\"cc.callFunc:\"+JSON.stringify(show_data))\n                    show_card.getComponent(\"card\").showCards(show_data)\n\n                }, this, call_data)\n\n                card.runAction(cc.sequence(cc.rotateBy(0, 180), cc.rotateBy(0.2, -90), run,\n                    cc.rotateBy(0.2, -90), cc.scaleBy(1, 1.2)));\n\n                if (this.isopen_sound) {\n                    // cc.audioEngine.play(cc.url.raw(\"resources/sound/start.mp3\"))\n                }\n            }\n\n            //this.node.parent.emit(\"change_room_state_event\",RoomState.ROOM_PLAYING)\n            //如果自己地主，给加上三张底牌\n            if (myglobal.playerData.accountID == myglobal.playerData.master_accountid) {\n                this.scheduleOnce(this.pushThreeCard.bind(this), 0.2)\n            }\n\n\n        }.bind(this))\n\n        //注册监听一个选择牌消息 \n        this.node.on(\"choose_card_event\", function (event) {\n            console.log(\"choose_card_event:\" + JSON.stringify(event))\n            var detail = event\n            this.choose_card_data.push(detail)\n        }.bind(this))\n\n        this.node.on(\"unchoose_card_event\", function (event) {\n            console.log(\"unchoose_card_event:\" + event)\n            var detail = event\n            for (var i = 0; i < this.choose_card_data.length; i++) {\n                if (this.choose_card_data[i].cardid == detail) {\n                    this.choose_card_data.splice(i, 1)\n                }\n            }\n        }.bind(this))\n\n    }\n\n    start() {\n\n    }\n    cur_index_card\n    //处理发牌的效果\n    _runactive_pushcard() {\n        //console.log(\"_runactive_pushcard:\"+this.cur_index_card)\n        if (this.cur_index_card < 0) {\n            console.log(\"pushcard end\")\n            //发牌动画完成，显示抢地主按钮\n            //this.robUI.active = true\n            this.fapai_end = true\n            if (this.rob_player_accountid == myglobal.playerData.accountID) {\n                this.robUI.active = true\n            }\n\n            if (this.isopen_sound) {\n                //console.log(\"start fapai_audioID\"+this.fapai_audioID) \n                // cc.audioEngine.stop(this.fapai_audioID)\n            }\n\n\n            //通知gamescene节点，倒计时\n            var sendevent = this.rob_player_accountid\n            this.node.parent.emit(\"canrob_event\", sendevent)\n\n            return\n        }\n\n        //原有逻辑  \n        // var move_node = this.cards_nods[this.cur_index_card]\n        // move_node.active = true\n        // var newx = move_node.x + (this.card_width * 0.4*this.cur_index_card) - (this.card_width * 0.4)\n        // var action = cc.moveTo(0.1, cc.v2(newx, -250));\n        // move_node.runAction(action)\n        // this.cur_index_card--\n        // this.scheduleOnce(this._runactive_pushcard.bind(this),0.3)\n\n\n        var move_node = this.cards_nods[this.cards_nods.length - this.cur_index_card - 1]\n        move_node.active = true\n        this.push_card_tmp.push(move_node)\n        // this.fapai_audioID = cc.audioEngine.play(cc.url.raw(\"resources/sound/fapai1.mp3\"))\n        for (var i = 0; i < this.push_card_tmp.length - 1; i++) {\n            var move_node = this.push_card_tmp[i]\n            var newx = move_node.x - (this.card_width * 0.4)\n            var action = cc.moveTo(0.1, cc.v2(newx, -250));\n            move_node.runAction(action)\n        }\n\n        this.cur_index_card--\n        this.scheduleOnce(this._runactive_pushcard.bind(this), 0.3)\n    }\n    fapai_audioID:number;\n\n    //对牌排序\n    sortCard() {\n        this.cards_nods.sort(function (x, y) {\n            var a = x.getComponent(\"card\").card_data;\n            var b = y.getComponent(\"card\").card_data;\n\n            if (a.hasOwnProperty('value') && b.hasOwnProperty('value')) {\n                return b.value - a.value;\n            }\n            if (a.hasOwnProperty('king') && !b.hasOwnProperty('king')) {\n                return -1;\n            }\n            if (!a.hasOwnProperty('king') && b.hasOwnProperty('king')) {\n                return 1;\n            }\n            if (a.hasOwnProperty('king') && b.hasOwnProperty('king')) {\n                return b.king - a.king;\n            }\n        })\n        //var x = this.cards_nods[0].x;\n        //这里使用固定坐标，因为取this.cards_nods[0].xk可能排序为完成，导致x错误\n        //所以做1000毫秒的延时\n        var timeout = 1000\n        setTimeout(function () {\n            //var x = -417.6 \n            var x = this.cards_nods[0].x;\n            console.log(\"sort x:\" + x)\n            for (let i = 0; i < this.cards_nods.length; i++) {\n                var card = this.cards_nods[i];\n                card.zIndex = i; //设置牌的叠加次序,zindex越大显示在上面\n                card.x = x + card.width * 0.4 * i;\n            }\n        }.bind(this), timeout);\n\n\n    }\n\n\n    pushCard(data) {\n        if (data) {\n            data.sort(function (a, b) {\n                if (a.hasOwnProperty('value') && b.hasOwnProperty('value')) {\n                    return b.value - a.value;\n                }\n                if (a.hasOwnProperty('king') && !b.hasOwnProperty('king')) {\n                    return -1;\n                }\n                if (!a.hasOwnProperty('king') && b.hasOwnProperty('king')) {\n                    return 1;\n                }\n                if (a.hasOwnProperty('king') && b.hasOwnProperty('king')) {\n                    return b.king - a.king;\n                }\n            });\n        }\n        //创建card预制体\n        this.cards_nods = []\n        for (var i = 0; i < 17; i++) {\n\n            var card = cc.instantiate(this.card_prefab)\n            card.scale = 0.8\n            card.parent = this.node.parent\n            //card.x = card.width * 0.4 * (17 - 1) * (-0.5) + card.width * 0.4 * 0;\n            card.x = card.width * 0.4 * (-0.5) * (-16) + card.width * 0.4 * 0;\n            //这里实现为，每发一张牌，放在已经发的牌最后，然后整体移动\n            card.y = -250\n            card.active = false\n\n            card.getComponent(\"card\").showCards(data[i], myglobal.playerData.accountID)\n            //存储牌的信息,用于后面发牌效果\n            this.cards_nods.push(card)\n            this.card_width = card.width\n        }\n\n        //创建3张底牌\n        this.bottom_card = []\n        for (var i = 0; i < 3; i++) {\n            var di_card = cc.instantiate(this.card_prefab)\n            di_card.scale = 0.4\n            di_card.position = this.bottom_card_pos_node.position\n            //三张牌，中间坐标就是bottom_card_pos_node节点坐标，\n            //0,和2两张牌左右移动windth*0.4\n            if (i == 0) {\n\n                di_card.x = di_card.x - di_card.width * 0.4\n            } else if (i == 2) {\n                di_card.x = di_card.x + di_card.width * 0.4\n            }\n\n\n            //di_card.x = di_card.width-i*di_card.width-20\n            //di_card.y=60\n            di_card.parent = this.node.parent\n            //存储在容器里\n            this.bottom_card.push(di_card)\n        }\n\n    }\n\n    //给玩家发送三张底牌后，过1s,把牌设置到y=-250位置效果\n    schedulePushThreeCard() {\n        for (var i = 0; i < this.cards_nods.length; i++) {\n            var card = this.cards_nods[i]\n            if (card.y == -230) {\n                card.y = -250\n            }\n        }\n    }\n    //给地主发三张排，并显示在原有牌的后面\n    pushThreeCard() {\n        //每张牌的其实位置 \n        var last_card_x = this.cards_nods[this.cards_nods.length - 1].x\n        for (var i = 0; i < this.bottom_card_data.length; i++) {\n            var card = cc.instantiate(this.card_prefab)\n            card.scale = 0.8\n            card.parent = this.node.parent\n\n            card.x = last_card_x + ((i + 1) * this.card_width * 0.4)\n            card.y = -230  //先把底盘放在-230，在设置个定时器下移到-250的位置\n\n            //console.log(\"pushThreeCard x:\"+card.x)\n            card.getComponent(\"card\").showCards(this.bottom_card_data[i], myglobal.playerData.accountID)\n            card.active = true\n            this.cards_nods.push(card)\n        }\n\n        this.sortCard()\n        //设置一个定时器，在2s后，修改y坐标为-250\n        this.scheduleOnce(this.schedulePushThreeCard.bind(this), 2)\n\n    }\n\n    destoryCard(accountid, choose_card) {\n        if (choose_card.length == 0) {\n            return\n        }\n\n        /*出牌逻辑\n          1. 将选中的牌 从父节点中移除\n          2. 从this.cards_nods 数组中，删除 选中的牌 \n          3. 将 “选中的牌” 添加到出牌区域\n              3.1 清空出牌区域\n              3.2 添加子节点\n              3.3 设置scale\n              3.4 设置position\n          4.  重新设置手中的牌的位置  this.updateCards();\n        */\n        //1/2步骤删除自己手上的card节点 \n        var destroy_card = []\n        for (var i = 0; i < choose_card.length; i++) {\n            for (var j = 0; j < this.cards_nods.length; j++) {\n                var card_id = this.cards_nods[j].getComponent(\"card\").card_id\n                if (card_id == choose_card[i].cardid) {\n                    console.log(\"destroy card id:\" + card_id)\n                    //this.cards_nods[j].destroy()\n                    this.cards_nods[j].removeFromParent(true);\n                    destroy_card.push(this.cards_nods[j])\n                    this.cards_nods.splice(j, 1)\n                }\n            }\n        }\n\n        this.appendCardsToOutZone(accountid, destroy_card)\n        this.updateCards()\n\n    }\n\n    //清除显示出牌节点全部子节点(就是把出牌的清空)\n    clearOutZone(accountid) {\n        var gameScene_script = this.node.parent.getComponent(\"gameScene\")\n        var outCard_node = gameScene_script.getUserOutCardPosByAccount(accountid)\n        var children = outCard_node.children;\n        for (var i = 0; i < children.length; i++) {\n            var card = children[i];\n            card.destroy()\n        }\n        outCard_node.removeAllChildren(true);\n    }\n    //对出的牌做排序\n    pushCardSort(cards) {\n        if (cards.length == 1) {\n            return\n        }\n        cards.sort(function (x, y) {\n            var a = x.getComponent(\"card\").card_data;\n            var b = y.getComponent(\"card\").card_data;\n\n            if (a.hasOwnProperty('value') && b.hasOwnProperty('value')) {\n                return b.value - a.value;\n            }\n            if (a.hasOwnProperty('king') && !b.hasOwnProperty('king')) {\n                return -1;\n            }\n            if (!a.hasOwnProperty('king') && b.hasOwnProperty('king')) {\n                return 1;\n            }\n            if (a.hasOwnProperty('king') && b.hasOwnProperty('king')) {\n                return b.king - a.king;\n            }\n        })\n    }\n\n    appendOtherCardsToOutZone(outCard_node, cards, yoffset) {\n        outCard_node.removeAllChildren(true);\n\n        //console.log(\"appendOtherCardsToOutZone length\"+cards.length)\n        //添加新的子节点\n        for (var i = 0; i < cards.length; i++) {\n            var card = cards[i];\n            outCard_node.addChild(card, 100 + i) //第二个参数是zorder,保证牌不能被遮住\n        }\n\n        //对出牌进行排序\n        //设置出牌节点的坐标\n        var zPoint = cards.length / 2;\n        //console.log(\"appendOtherCardsToOutZone zeroPoint:\"+zPoint)\n        for (var i = 0; i < cards.length; i++) {\n            var cardNode = outCard_node.getChildren()[i]\n            var x = (i - zPoint) * 30;\n            var y = cardNode.y + yoffset; //因为每个节点需要的Y不一样，做参数传入\n            //console.log(\"-----cardNode: x:\"+x+\" y:\"+y)\n            cardNode.setScale(0.5, 0.5);\n            cardNode.setPosition(x, y);\n\n        }\n    }\n    //将 “选中的牌” 添加到出牌区域\n    //destroy_card是玩家本次出的牌\n    appendCardsToOutZone(accountid, destroy_card) {\n        if (destroy_card.length == 0) {\n            return\n        }\n        //先给本次出的牌做一个排序\n        this.pushCardSort(destroy_card)\n        //console.log(\"appendCardsToOutZone\")\n        var gameScene_script = this.node.parent.getComponent(\"gameScene\")\n        //获取出牌区域节点\n        var outCard_node = gameScene_script.getUserOutCardPosByAccount(accountid)\n        this.appendOtherCardsToOutZone(outCard_node, destroy_card, 360)\n        //sconsole.log(\"OutZone:\"+outCard_node.name)\n\n    }\n\n    //重新排序手上的牌,并移动\n    updateCards() {\n\n        var zeroPoint = this.cards_nods.length / 2;\n        //var last_card_x = this.cards_nods[this.cards_nods.length-1].x\n        for (var i = 0; i < this.cards_nods.length; i++) {\n            var cardNode = this.cards_nods[i]\n            var x = (i - zeroPoint) * (this.card_width * 0.4);\n            cardNode.setPosition(x, -250);\n        }\n\n    }\n\n    playPushCardSound(card_name) {\n        console.log(\"playPushCardSound:\" + card_name)\n\n        if (card_name == \"\") {\n            return\n        }\n\n        switch (card_name) {\n            case CardsValue.one.name:\n                break\n            case CardsValue.double.name:\n                if (this.isopen_sound) {\n                    // cc.audioEngine.play(cc.url.raw(\"resources/sound/duizi.mp3\"))\n                }\n                break\n        }\n    }\n    // update (dt) {},\n    onButtonClick(event, customData) {\n        switch (customData) {\n            case \"btn_qiandz\":\n                console.log(\"btn_qiandz\")\n                myglobal.socket.requestRobState(qian_state.qian)\n                this.robUI.active = false\n                if (this.isopen_sound) {\n                    // cc.audioEngine.play(cc.url.raw(\"resources/sound/woman_jiao_di_zhu.ogg\"))\n                }\n                break\n            case \"btn_buqiandz\":\n                console.log(\"btn_buqiandz\")\n                myglobal.socket.requestRobState(qian_state.buqiang)\n                this.robUI.active = false\n                if (this.isopen_sound) {\n                    // cc.audioEngine.play(cc.url.raw(\"resources/sound/woman_bu_jiao.ogg\"))\n                }\n                break\n            case \"nopushcard\":  //不出牌\n                myglobal.socket.request_buchu_card([], null)\n                this.playingUI_node.active = false\n                break\n            case \"pushcard\":   //出牌\n                //先获取本次出牌数据\n                if (this.choose_card_data.length == 0) {\n                    this.tipsLabel.string = \"请选择牌!\"\n                    setTimeout(function () {\n                        this.tipsLabel.string = \"\"\n                    }.bind(this), 2000);\n                }\n                myglobal.socket.request_chu_card(this.choose_card_data, function (err, data) {\n\n                    if (err) {\n                        console.log(\"request_chu_card:\" + err)\n                        console.log(\"request_chu_card\" + JSON.stringify(data))\n                        if (this.tipsLabel.string == \"\") {\n                            this.tipsLabel.string = data.msg\n                            setTimeout(function () {\n                                this.tipsLabel.string = \"\"\n                            }.bind(this), 2000);\n                        }\n\n                        //出牌失败，把选择的牌归位\n                        for (var i = 0; i < this.cards_nods.length; i++) {\n                            var card = this.cards_nods[i]\n                            card.emit(\"reset_card_flag\")\n                        }\n                        this.choose_card_data = []\n                    } else {\n                        //出牌成功\n                        console.log(\"resp_chu_card data:\" + JSON.stringify(data))\n                        this.playingUI_node.active = false\n                        //播放出牌的声音\n                        //resp_chu_card data:{\"account\":\"2519901\",\"msg\":\"sucess\",\"cardvalue\":{\"name\":\"Double\",\"value\":1}}\n                        //{\"type\":\"other_chucard_notify\",\"result\":0,\"data\":{\"accountid\":\"2519901\",\"cards\":[{\"cardid\":24,\"card_data\":{\"index\":24,\"value\":6,\"shape\":1}},{\"cardid\":26,\"card_data\":{\"index\":26,\"value\":6,\"shape\":3}}]},\"callBackIndex\":0}\n                        this.playPushCardSound(data.cardvalue.name)\n                        this.destoryCard(data.account, this.choose_card_data)\n                        this.choose_card_data = []\n\n                    }\n\n                }.bind(this))\n                //this.playingUI_node.active = false\n                break\n            case \"tipcard\":\n                break\n            default:\n                break\n        }\n    }\n\n\n}\n"]}