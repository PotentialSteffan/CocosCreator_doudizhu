{"version":3,"sources":["../../../../../assets/scripts/loginscene/assets/scripts/loginscene/loginScene.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,wCAAkC;AAC5B,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAE1C;IAAgC,8BAAY;IAD5C;QAAA,qEA6EC;QAzEG,eAAS,GAAW,IAAI,CAAC;QAEzB,wBAAwB;QACxB,kBAAY,GAAW,KAAK,CAAC;;QAmE7B,kBAAkB;IAGtB,CAAC;IArEG,2BAAM,GAAN;QAEI,kDAAkD;QAClD,IAAG,IAAI,CAAC,YAAY,EAAC;YACjB,0EAA0E;SAC5E;QAED,kBAAQ,CAAE,MAAM,CAAC,UAAU,EAAE,CAAA;IAClC,CAAC;IAED,0BAAK,GAAL;IACA,CAAC;IAED,kCAAa,GAAb,UAAc,KAAK,EAAC,UAAU;QAC1B,QAAO,UAAU,EAAC;YACd,KAAK,UAAU;gBACX,kCAAkC;gBAClC,OAAO,CAAC,GAAG,CAAC,UAAU,GAAC,SAAS,CAAC,CAAA;gBAEjC,8BAA8B;gBAE9B,kBAAQ,CAAE,MAAM,CAAC,eAAe,CAAC;oBAC7B,QAAQ,EAAC,kBAAQ,CAAE,UAAU,CAAC,QAAQ;oBACtC,SAAS,EAAC,kBAAQ,CAAE,UAAU,CAAC,SAAS;oBACxC,QAAQ,EAAC,kBAAQ,CAAE,UAAU,CAAC,QAAQ;oBACtC,SAAS,EAAC,kBAAQ,CAAE,UAAU,CAAC,SAAS;iBAC3C,EAAC,UAAS,GAAG,EAAC,MAAM;oBACjB,MAAM;oBACN,SAAS;oBACT,+BAA+B;oBAC/B,IAAG,GAAG,IAAE,CAAC,EAAC;wBACN,OAAO,CAAC,GAAG,CAAC,MAAM,GAAC,GAAG,CAAC,CAAA;wBACvB,OAAM;qBACT;oBAED,OAAO,CAAC,GAAG,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAA;oBACpD,kBAAQ,CAAE,UAAU,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAA;oBACnD,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,CAAA;gBACtC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;gBACb,MAAK;YACL,KAAK,aAAa;gBACd,kBAAQ,CAAE,MAAM,CAAC,kBAAkB,CAAC;oBAC5B,QAAQ,EAAC,kBAAQ,CAAE,UAAU,CAAC,QAAQ;oBACtC,SAAS,EAAC,kBAAQ,CAAE,UAAU,CAAC,SAAS;oBACxC,QAAQ,EAAC,kBAAQ,CAAE,UAAU,CAAC,QAAQ;oBACtC,SAAS,EAAC,kBAAQ,CAAE,UAAU,CAAC,SAAS;iBAC3C,EAAC,UAAS,GAAG,EAAC,MAAM;oBACjB,MAAM;oBACN,SAAS;oBACT,+BAA+B;oBAC/B,IAAG,GAAG,IAAE,CAAC,EAAC;wBACN,OAAO,CAAC,GAAG,CAAC,MAAM,GAAC,GAAG,CAAC,CAAA;wBACvB,OAAM;qBACT;oBAED,OAAO,CAAC,GAAG,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAA;oBACpD,kBAAQ,CAAE,UAAU,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAA;oBACnD,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,CAAA;gBACtC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;gBAErB,MAAM;YACV;gBAEI,MAAK;SACZ;IACL,CAAC;IArED;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDACO;IAHhB,UAAU;QADtB,OAAO;OACK,UAAU,CA4EtB;IAAD,iBAAC;CA5ED,AA4EC,CA5E+B,EAAE,CAAC,SAAS,GA4E3C;AA5EY,gCAAU","file":"","sourceRoot":"../../../../../assets/scripts/loginscene","sourcesContent":["import myglobal from \"../mygolbal\"\nconst {ccclass, property} = cc._decorator;\n@ccclass\nexport class loginScene extends cc.Component{\n\n    @property(cc.Node)\n    wait_node:cc.Node = null;\n\n    // LIFE-CYCLE CALLBACKS:\n    isopen_sound:boolean = false;\n    onLoad () {\n        \n        //console.log(\"qian_state.qian:\"+ qian_state.qian)\n        if(this.isopen_sound){\n            // cc.audioEngine.play(cc.url.raw(\"resources/sound/login_bg.ogg\"),true,1) \n         }\n           \n         myglobal .socket.initSocket()\n    }\n    \n    start () {\n    }\n    \n    onButtonCilck(event,customData){\n        switch(customData){\n            case \"wx_login\":\n                // console.log(\"wx_login request\")\n                console.log(customData+\"request\")\n                \n                //this.wait_node.active = true\n                \n                myglobal .socket.request_wxLogin({\n                    uniqueID:myglobal .playerData.uniqueID,\n                    accountID:myglobal .playerData.accountID,\n                    nickName:myglobal .playerData.nickName,\n                    avatarUrl:myglobal .playerData.avatarUrl,\n                },function(err,result){\n                    //请求返回\n                    //先隐藏等待UI\n                    //this.wait_node.active = false\n                    if(err!=0){\n                        console.log(\"err:\"+err)\n                        return     \n                    }\n                    \n                    console.log(\"login sucess\" + JSON.stringify(result))\n                    myglobal .playerData.gobal_count = result.goldcount\n                    cc.director.loadScene(\"hallScene\")\n                }.bind(this))\n                break\n                case 'guest_login':\n                    myglobal .socket.request_guestLogin({\n                            uniqueID:myglobal .playerData.uniqueID,\n                            accountID:myglobal .playerData.accountID,\n                            nickName:myglobal .playerData.nickName,\n                            avatarUrl:myglobal .playerData.avatarUrl,\n                        },function(err,result){\n                            //请求返回\n                            //先隐藏等待UI\n                            //this.wait_node.active = false\n                            if(err!=0){\n                                console.log(\"err:\"+err)\n                                return     \n                            }\n                            \n                            console.log(\"login sucess\" + JSON.stringify(result))\n                            myglobal .playerData.gobal_count = result.goldcount\n                            cc.director.loadScene(\"hallScene\")\n                        }.bind(this))\n                \n                break;\n            default:\n\n                break\n        }\n    }\n    // update (dt) {},\n\n\n}\n"]}