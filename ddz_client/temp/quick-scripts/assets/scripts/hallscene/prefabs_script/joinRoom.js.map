{"version":3,"sources":["joinRoom.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2CAAqC;AAC/B,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAA;AAE3C;IAA8B,4BAAY;IAD1C;QAAA,qEAwEC;QArEG,aAAO,GAAc,EAAE,CAAA;;IAqE3B,CAAC;IAhEG,yBAAM,GAAN;QACI,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,CAAA;IAC7B,CAAC;IAED,wBAAK,GAAL;IAEA,CAAC;IAED,iBAAiB;IAEjB,MAAM;IAEN,gCAAa,GAAb,UAAc,KAAK,EAAE,UAAU;QAC3B,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE;YACzB,IAAI,CAAC,MAAM,IAAI,UAAU,CAAA;YACzB,IAAI,CAAC,eAAe,IAAI,CAAC,CAAA;YACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,MAAM,GAAG,UAAU,CAAA;YACtD,kDAAkD;YAClD,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;gBACzB,UAAU;gBACV,IAAI,SAAS,GAAG;oBACZ,MAAM,EAAE,IAAI,CAAC,MAAM;iBACtB,CAAA;gBACD,kBAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,SAAS,EAAE,UAAU,GAAG,EAAE,MAAM;oBACzD,IAAI,GAAG,EAAE;wBACL,OAAO,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,CAAA;qBAC3B;yBAAM;wBACH,OAAO,CAAC,GAAG,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAA;wBACxD,kBAAQ,CAAC,UAAU,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAA;wBAC1C,kBAAQ,CAAC,UAAU,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAA;wBACtC,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,CAAA;qBACrC;gBACL,CAAC,CAAC,CAAA;gBACF,OAAM;aACT;YAED,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,UAAU,CAAC,CAAA;SAE1C;QACD,QAAQ,UAAU,EAAE;YAChB,KAAK,MAAM;gBACP,IAAI,IAAI,CAAC,eAAe,GAAG,CAAC,EAAE;oBAC1B,OAAM;iBACT;gBACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,MAAM,GAAG,EAAE,CAAA;gBAC9C,IAAI,CAAC,eAAe,IAAI,CAAC,CAAA;gBACzB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;gBAC9D,MAAK;YACT,KAAK,OAAO;gBACR,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;oBACxB,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,EAAE,CAAA;iBAE9B;gBACD,IAAI,CAAC,MAAM,GAAG,EAAE,CAAA;gBAChB,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,CAAA;gBACzB,MAAK;YACT,KAAK,OAAO;gBACR,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAA;gBACnB,MAAK;YACT;gBACI,MAAK;SACZ;IACL,CAAC;IApED;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;6CACI;IAFd,QAAQ;QADpB,OAAO;OACK,QAAQ,CAuEpB;IAAD,eAAC;CAvED,AAuEC,CAvE6B,EAAE,CAAC,SAAS,GAuEzC;AAvEY,4BAAQ","file":"","sourceRoot":"../../../../../../assets/scripts/hallscene/prefabs_script","sourcesContent":["import myglobal from \"../../mygolbal\"\nconst { ccclass, property } = cc._decorator\n@ccclass\nexport class joinRoom extends cc.Component {\n    @property(cc.Label)\n    joinids:cc.Label[] = []\n\n    // LIFE-CYCLE CALLBACKS:\n    joinid:string\n    cur_input_count:number\n    onLoad() {\n        this.joinid = \"\";\n        this.cur_input_count = -1\n    }\n\n    start() {\n\n    }\n\n    //  update (dt) {\n\n    //  },\n\n    onButtonClick(event, customData) {\n        if (customData.length === 1) {\n            this.joinid += customData\n            this.cur_input_count += 1\n            this.joinids[this.cur_input_count].string = customData\n            //console.log(\"joinid.length:\"+this.joinid.length)\n            if (this.joinid.length >= 6) {\n                //判断加入房间逻辑\n                var room_para = {\n                    roomid: this.joinid,\n                }\n                myglobal.socket.request_jion(room_para, function (err, result) {\n                    if (err) {\n                        console.log(\"err\" + err)\n                    } else {\n                        console.log(\"join room sucess\" + JSON.stringify(result))\n                        myglobal.playerData.bottom = result.bottom\n                        myglobal.playerData.rate = result.rate\n                        cc.director.loadScene(\"gameScene\")\n                    }\n                })\n                return\n            }\n\n            console.log(\"customData:\" + customData)\n\n        }\n        switch (customData) {\n            case \"back\":\n                if (this.cur_input_count < 0) {\n                    return\n                }\n                this.joinids[this.cur_input_count].string = \"\"\n                this.cur_input_count -= 1\n                this.joinid = this.joinid.substring(0, this.joinid.length - 1)\n                break\n            case \"clear\":\n                for (var i = 0; i < 6; ++i) {\n                    this.joinids[i].string = \"\"\n\n                }\n                this.joinid = \"\"\n                this.cur_input_count = -1\n                break\n            case \"close\":\n                this.node.destroy()\n                break\n            default:\n                break\n        }\n    }\n}\n"]}